<?xml version="1.0" encoding="utf-8"?>
<CheatTable CheatEngineTableVersion="29">
  <Forms>
    <FormGridMod Class="TCEForm" Encoding="Ascii85">=OF+}Q@(W?VhDR(K?me#6zc,tyCMk$B#07)xPS[ca2p}aSCb$i8WyP^RV)5]tx]a,YHdYv.cGF8iq-^^08..oh;A+p$_9kVu*WC!2?iemeXaI:wV$76=wmPie(@iZ%$zybyR#7pn(0B-SQ@:LG0cfHQ}l$]VTLV)!v-ydzTlz%z!+@:CL@4OZbzYM?J7@D%qnIWFC5*}z]C)R!)k5B3{NODbHX5wcPPx{nwhU;2E:fAP}/X+9i/Zm?M2gH*[6TPfXQZn7MZ?0$AsBN7Bo(2L_DwC@9W$dq2zETD:dI10D}Nt)qrH#9)GJ/C]+Ne2K%dE)83]$fI*-ZVIB^TG$+r_5S!Nv)M/EKgJ]1iM;F?3FSr[50X%vPRb_6Oh1b!8(ZC;oAAvy327eI/B;1EGB[QlTj{;Sq]{ulVnA)[vriC{f!yiafRDX=*Ku@46(Rqmz[-k)uHyZ!wo61Vgy7I%?:@@B8COzppKEIMM$oxx+=}7eIQ@wAj@Q-eUtA.IO#rr4:hIma0/gHD)^vU2!P:ttkw/}r9b/=%0-;l(Zv,d!=b;DnnyX]]+;z1ZU-t%kQ=PA+M[t(.2R?bfy!Bcx$Z#2tG=@V_xTywMRc+V@!ShC:7[r?OHF_N._D]=7@0uJA};vyNPH8/8e%N034JwxVPT-2dh0F}5/3LJ*Y+-#=DFrOpVa^?;1o!PT]cdRhyI2bfxttjrRw8ArvcJ1lOdC!qKE(S%!GlB;CWQKU1Lg5H2q-Is*[DvnUJ/IyC:eRC2JZXcQ6K_J=lFCQaZhBpHIx}%rljSDLCxPb@QlEmkjkd{()@?e(LRUczyM5iwYH5gF=O2z1Ia$u{ZN9xP/K[fBp7gD7;w(gi?fS^/QB;_,4RmYkJDq)O$8{whG$9@]WW.XS.Z)I.8shWD!6p6:YZ1=j9JlCV9FS4vd1K14ZCg,0UP^DDyR+]Mmp#24njAiwk9cD)[[/-%l/v}3Iq@W0nN{xmb^e{O5:gLu!wplE@:HmKN6vB.BsVNn+5[@l=Ky((J3}tZO$eKZK8c,[KUywrbF03J4qq$3[F)U#j-MwSgTSbXg21^G+[Nzx(ych50(k!)2WS+@u4/8CKJ*RYxPlI!Dql{KLVVJO@RMj$GOTF$#UsQ.@Nz=CX0!N,J(D0PAMa[rQyK%T83^*HutPle(JL]fIKL}YC0yRM,_eceZHbwm*y_Q81k{,wM$$17DcpO(1eeK?zu1o%XNf2M^8UmOZ8tuvasS)A$OF5A]FW*4+U+!!MNJoew1*9idAh%qOT2SQk#Buw/H0.ICOMb}#uTC[6:T}vZ=@0!Y4e%igt$X=nioi?L+q#=GK[/nhwut_5;E6iEcql3%(myQ7A;;dsf?=@SqaYFMlB{-4R?zGk:1ve-{b1Q-HO9y,O_{cd}bc@61i%w]q4VK+,-=5fc3K!WC5KJpyTE:3)NutGheoSBADeWdJ/M74NExb#7Dg1cSv!_pE$@c0X:H-vm;jkv(*jj5p^NWQlRX^[mR?JrK5o8ZEZfIowNT^maEzyPSDMw^LTW_h9s/=qu;!U5Uy-*$-OYzB_fjjhgy]]xX(2]ct.Udd{Hpt@BHSw7udPP,kZ9.Pf7*]BzWKX5{RTVT_-k,!8m+G!%c_PoTYq)xBtYyd*Qexxa%!n]6#4(A]^cn.z[LT7:$}ElO-+Ayh=taxWMJgEm?LRX-^[a*ssz#?q)87Cf!#k%5)YM(1+^w:)G6oB}n},(du!T;l7f+vNQLNl(za#;T,e04C]LXmZi?=xm,:RT2L;Ep*diJB+^mu?t,TpClXHWcsi!G2}jJ/l1dfQh4!QHgfT,Jgmj#UocbJ?syJuwFZRjrYTrNEh2+S!.S+#e@6;_PlC/DbXW6/]Q)Ve!u^]yVTVpDXA5UwHebX3A$!;}v-[V3O6_30Z6Ysd@#lbb+WB}=GC@wrsbue;yOUu(610G/sQ^?Fx(hop)GerSIpCkPP38nL/rr5ZUCYyQKBw[p$u?oqQQhk:BvIP]vttb_F!a;ZqJ%y-KSJ63nq={Ew3A2GAtDUnf(2o%zDR*r(ex*Zoc:j:j=XD??.!w8#@(YgOVSJv)ZptQF)+2*aX$=]t6JBR$59[pDK-3z%eMv5?DN+R.XD.q:O^;#dwl8}3(Y.fL.!0)l(MH1t8K?n3Xj.wo)NFix)n,EEtm4y@Iy.u?9V]EcwLhl=Vf#Q?vvQ$s%IR?)/Js}?/?dFII.XUJOZ?dKooAzDS.e[=baoT*%FYd._BC)/eRxr,#3x?8Vk)p7COp/LxkvC#e#6mcxryK1*zVe?ut:*@[+.cEHwj.=dn}WM9QV*.YVDOj:#b^[#oyCCrp}f@)o)SRsb,%lBW{Us1(3]JX@Qf,;L,n#IhMGT$s+Egg{mbY=M=R:!j=?dA?$0ce34_!+rWLUYIND?t5pXz]pK9V@VXOPi;IZ$0sc%FackzoX+fnjR@w$%o]nnPhXbgXx@G]SpH8k4nuQ60!e;C=rL=UI6:.notZ,{5XSwJzNdl{6M^6*4+RIJ9YM9p_E#8L7!vh0P(8{_{+eGMpl736TQp(jrm$w!+x+iqph?Ch!B{%2Vmhg31MdvRqRV)wgd*duLk,Pa:s6f0bs4wOfSahvjO)-fv:hR(!1vgg[kNPIX(Y7C;3T(}hL4=N2+6c@:uKHb*@CZJDX{GC[PZVcmSeS+y04GFNw;+h1CAB.mqfkA}id;8^[b5Io*:^Gp2r#,EU5?+TXl-?tEdV8OOu.oM8VSB3Wa2QZTMIN?hpXkY/Sm}k^D?X/Oq-5gQrw8?+15VRVf8p*Co(Ohbql0qr-quoRE(:OF{cvP%X}GV^u)-G$*uD:jgtB4wn-zE4QmMXz]-S-0h[EvEzuIWD4,CO5_)n1MmWFs;#Y(F:kH0QD@ZUu0ob4fmzVP+EQOM3DUkr_ajRRb=v]U.pMPn8dBsDGKb)Y4X]!Me5pZDh.VDVNo@-C{^bdiQ^BojOQCpa=sGYs!TSem}X;NM:4IR76I[%1nRg(,P6?S?tl0nlEJ2yBfcAdOTyRqlMB8x78thx6wx3Zxobgk@6JM_0gy6CEZl?7]4Gab%rxA1Nu:X#vw$S#_cd$h,+SZ0!_q/5Vd31ls(^{uf!]aq*gvc(Vrw*#8wt)e9Jli1jcx,KF}))^@kY:;+XV[lA7xk1J}ovyX.lJL5(E1;hq28Pza^9tiw7w11b,02N!y.*3:A[MMh7[Xc5/s*EXL$pp?@Y-fP3x7x%v_d/2-0#Hq@@(Ce!YxH^4xDD2ILC4wj7v4[scrYCDyQ}lU8BfRs.jm9NN)rJ*a6:-Z;?eRspt./X[Z7CLA240tcZ*-/RXfx2?[O5._of1Tbn+kM%u_YW7._e5hke8.wNW8THHQHWxM:%1u+rMf.[V{J:GYOQl_:PsVWVp[DjPzbnoKHkEdNQ7i8pIL*(LNiE/!mf(B/oLf?:Q:u1n_LUeh4Wm21O6PDzE?21y?VQT4O5@,%K23h4kOWbr+rCZ8^)E]S91aA6JWkSk;9ZyGOUqSEQ5j*+{5neQY?iy$pAzkql!7Rbt-A1[Sla,4!/e[rkkwfsG@W@05Zx#x$yUlTDojTF9)#?Ud/:}=H]*T4,V+1lAW!Ntq^?bp(HFtX(Bl7p2sObz^X)Qd5Thk$]pE.u@I]%smLtytD$%{QW%JVzG5a-L!XSaZx]Fy*EigT0es/u+V8J/Pp/^g,3yJgOzj]/S%oVdAFMT+$c.,:.Qu}LC-]]ASuM6*0*o;YI#I=02G4#I)Ew*M[Gtc7hC!Ik?xo72!YcFOw@LOvq0IwmgKWAwL.qlGmWU4e{3G}x_Tc[v}skk!:nq]%nZSzS.EZ+Q}!LQf}[J$uE}kHNjXLeL=tTKP}A,i[3:iK$J9$9PfLEJr0fVhzyT8_-XjEzG_-4Jbv_UV;{O-?e{BSrr+,h9ek;ShMg---s:I#0)jf-7Jj]swhP7Y.Li%]uf*yRSp][CfV]qP15K/bC;ve@3sxdvVy5bc#@H4Hr!Ue(I+kqd:1x;58c_*)0vWP*6;cBRd)aqd3=k/+^kfW?-bFe9O1WshwYf0wJlv*YDu$fLe5%w/p[WPFZ%MpE@*#7:g8}XX)@nN:v7l*.]zCD=VE$(u+GxLgEC#EMU*uX!YOz;Ntl[o?2xa=rHf0v?;xa9MYAgL:{}x6S7ur(M.g6Ccm.jZPVVn-sXX%oj+n/f3_={[t!hOp5_/f!]FTZ5]IY;{y0Jjl-N}VKuQ/C7yc%Iv,J2;1*$(#{E;r9xOb[v@d+{)w,5uZcd8*reR(YxE4EexL.C)7YUP%jSLe$_zIS-ta;;r%K9AJYm5ubdJp$L^n2MDjCPg3Q1^(BK{r?DcXgCOt{QJzkV14=C^#Pn6fXBE,^lYrW..GjCJ)7N0Kpz)B=*_x2ZRR@x)UB{W6Dc!0)TTK9D#pd99TRYCgngW#BX:!{/7?7na8ZEkfJ-abexgG0Q@/8sWOxt6pGiwM,Ca{6Uc;N1$G+wuLJ^cz.x+v1Q@+QnZQILEawLAl8X23O-RIzXsbsN@tNN__BMV[uMfRLPK1][H3IY,r)uGxF.kK0}e-R):LJ5:=QQ[O_)bpb^$?p.l,%MK-{iY$jtblsC?DUQ?U#.A%o6Hc@BqkRH[ot7Fbqy5/aS7X7e]dPN!p?/A#XP$@FtJt!C-F+3+Uw$Y:hnvgCJ!p[E%-,gJ=72}VukJ[(e0.*l/g7}yueFlS7kokO[m{2K8XDWjPyR^PcxPzz(WP[N]Kl7Bx2Lbi8TZe)VX15}3,6*D5qj0+5LH^/ZA4^Lm_,lhcz;y=+Vqr^GF6petjR^$1Nwp/#o{26gu}I@Y#N.#.ZEmZv0R:nv;D/c%xGj!FAf}F)H-Uw=rXZK3d(q^wHjrrD@?EI;SDF2wpd,-Fm^XL!2wJGWHMA,k:^rTRhOC7dP595*w.tB][$!Ul/9E8UQHPqW!hWOHqzkvv!)1.2!m2}1.Us^Ur$xdj6%FO5.F]Vfg(0N.?Zax1Xc{*u:-t+(}sfC3BAA:L.@L%AP^1MK(ZZ3c!n]}Lo]3]oG5PifKjm4j^=f=!=/qj57EP?Y+vhk9!BE.h!w!2b9g9)31{^b+bIOGF?y(3c?!p[w-^#g$S=}AL:R:Tv+?7[1_rSJ3!@W%=l3E=(+9/y9rj;yv[6OZ=LH([TA$xbcjp1:9]Lu)J?CWP9r/p$JAZ/7cm5RVK64/tqmLr}HogaaIKHFa(G)s}Am3.HQ}8dt0ABmk!/ev_;O:J)$S^D[Ke.PWCwFKIq,xcqn8^+(Xx5vl0WsNh9;ldZU[O^gZ9{VyG8(@V[GGi?90o+zIZOcv0iA@%8Oq@O.7FJOvEeALdaOUh1q+ld0D3DS4v!i7J{m//0pT1bJ3=/VOQ042@da;quFZcR,(e=Rq5t/h*(M@l%,G.YTtA4jl+xurNW(}w@zJMdX_NBP@*++)+kELM.[G)6V!a*)[pKrS.v{=az$DaMZ[%#*hi[0r@=daOcR4z1@]}$g;)MZ9KpGO=OT*kqM=;U+Gz_RYXc,j3)J+L08pghthCv@WhNuB*81%]{Fz6qftm+S]cwdto4uwXnhxz=0ai{PDt_mi%^7M_}oW{![KU/4K)chV+pw![_]wn7();6gEXv_26):QUk3?UM1h!5/)ISpp0ZfI(KST!(x%+2=:CWq763/x[]zaHBUxn;9k?P-FrO,wdewe[/e1J4Kd:}G{^1Qau%;khrH[ktWv0kk3nP]nq?2t1fTXE7OURf7R:@/sVx4x{ND.e9x=o/UUhfLJ@{*?!hE*Ay,[^1XQbe..hkIDM]eE/RjeQ?!!?yCfxPE:dg3$6t6DHJ)4a;bUP+b=A4MNL2U6DD4KM],w@wXZ8EWXv0wQKZF4?Ko}Fsh5/8h7%,Wb0yJ;];_u+Hh^HXEsUMvKX+Or$^vQQs9I$]8);a6tn**$8:wgC5xHBC;m?MW%o1!3gXbcLAUPkAGpe/vv!Qs)M+Kvk*HMFj!svn(JsR9f1bf0wqAHkvH$qqxAjsSN-E^^V82MgB]Sl2-r-mhPWX*u,(4BT.^RpAiC?[=h,SX)@_U}WUHrT+_08=iR.8oXkor6z*@(rGUg(LE2Y@B2AF0ZfL,xi*=%:Uz$}56l!h!)KAPVySn9-b:S;XeeDnfQ@RXp!0Q840N@,Qk}RBn3:PuJ5K,A;89RJ6R.72!UkMmE,2n@Vbo_o(iX/ctS=,(Q!gU[o8?I^tg3@kSBa@5rG?ohX:4XoY3h0Yi3]n4@V1i^_F7!_Jwtz$q5qO;,E[(?RmNqh^nZB2+qhCRIGgD#R2Y]Z*{)ND^fMDAT-@rd^tE</FormGridMod>
  </Forms>
  <CheatEntries>
    <CheatEntry>
      <ID>105</ID>
      <Description>"True Flat"</Description>
      <Options moHideChildren="1" moDeactivateChildrenAsWell="1"/>
      <LastState Activated="1"/>
      <Color>FF0000</Color>
      <VariableType>Auto Assembler Script</VariableType>
      <AssemblerScript>{ Game   : Astro-Win64-Shipping.exe
  Version:
  Date   : 2020-05-04
  Author : mece

  This script does blah blah blah
}

define(BasePtrAccessCodeAddr,"Astro-Win64-Shipping.exe"+8F5098)
define(BasePtrAccessCode,48 8B F1 48 8B BA B0 03 00 00)

[ENABLE]

//assert(BasePtrAccessCodeAddr,BasePtrAccessCode)
alloc(BasePtrInjection,$1000,"Astro-Win64-Shipping.exe"+8F5098)

label(code)
label(return)
label(pMouse)
label(bUpdate)

BasePtrInjection:

code:
  mov [pMouse],rcx
  mov [bUpdate], #1
  mov rsi,rcx
  mov rdi,[rdx+000003B0]
  jmp return

pMouse:
  dq 0

bUpdate:
  dq 0

BasePtrAccessCodeAddr:
  jmp BasePtrInjection
  nop 5
return:
registersymbol(pMouse)
registersymbol(bUpdate)

[DISABLE]

BasePtrAccessCodeAddr:
  db BasePtrAccessCode
  // mov rsi,rcx
  // mov rdi,[rdx+000003B0]

dealloc(BasePtrInjection)
unregistersymbol(pMouse)
unregistersymbol(bUpdate)

{
// ORIGINAL CODE - INJECTION POINT: "Astro-Win64-Shipping.exe"+8F5098

"Astro-Win64-Shipping.exe"+8F505D: 44 0F 29 A0 48 FF FF FF           -  movaps [rax-000000B8],xmm12
"Astro-Win64-Shipping.exe"+8F5065: 44 0F 29 A8 38 FF FF FF           -  movaps [rax-000000C8],xmm13
"Astro-Win64-Shipping.exe"+8F506D: 44 0F 29 B0 28 FF FF FF           -  movaps [rax-000000D8],xmm14
"Astro-Win64-Shipping.exe"+8F5075: 44 0F 29 B8 18 FF FF FF           -  movaps [rax-000000E8],xmm15
"Astro-Win64-Shipping.exe"+8F507D: 48 8B 05 6C 0F E1 03              -  mov rax,[Astro-Win64-Shipping.exe+4705FF0]
"Astro-Win64-Shipping.exe"+8F5084: 48 33 C4                          -  xor rax,rsp
"Astro-Win64-Shipping.exe"+8F5087: 48 89 85 90 02 00 00              -  mov [rbp+00000290],rax
"Astro-Win64-Shipping.exe"+8F508E: 49 8B D9                          -  mov rbx,r9
"Astro-Win64-Shipping.exe"+8F5091: 4C 8B EA                          -  mov r13,rdx
"Astro-Win64-Shipping.exe"+8F5094: 48 89 55 08                       -  mov [rbp+08],rdx
// ---------- INJECTING HERE ----------
"Astro-Win64-Shipping.exe"+8F5098: 48 8B F1                          -  mov rsi,rcx
"Astro-Win64-Shipping.exe"+8F509B: 48 8B BA B0 03 00 00              -  mov rdi,[rdx+000003B0]
// ---------- DONE INJECTING  ----------
"Astro-Win64-Shipping.exe"+8F50A2: 45 33 F6                          -  xor r14d,r14d
"Astro-Win64-Shipping.exe"+8F50A5: 48 85 FF                          -  test rdi,rdi
"Astro-Win64-Shipping.exe"+8F50A8: 74 2F                             -  je Astro-Win64-Shipping.exe+8F50D9
"Astro-Win64-Shipping.exe"+8F50AA: 48 63 47 0C                       -  movsxd  rax,dword ptr [rdi+0C]
"Astro-Win64-Shipping.exe"+8F50AE: 3B 05 88 FE F7 03                 -  cmp eax,[Astro-Win64-Shipping.exe+4874F3C]
"Astro-Win64-Shipping.exe"+8F50B4: 7D 11                             -  jnl Astro-Win64-Shipping.exe+8F50C7
"Astro-Win64-Shipping.exe"+8F50B6: 48 8D 0C 40                       -  lea rcx,[rax+rax*2]
"Astro-Win64-Shipping.exe"+8F50BA: 48 8B 05 6F FE F7 03              -  mov rax,[Astro-Win64-Shipping.exe+4874F30]
"Astro-Win64-Shipping.exe"+8F50C1: 48 8D 14 C8                       -  lea rdx,[rax+rcx*8]
"Astro-Win64-Shipping.exe"+8F50C5: EB 03                             -  jmp Astro-Win64-Shipping.exe+8F50CA
}
</AssemblerScript>
      <CheatEntries>
        <CheatEntry>
          <ID>106</ID>
          <Description>"Brush Pointers"</Description>
          <Options moHideChildren="1" moAllowManualCollapseAndExpand="1"/>
          <LastState Value="A25899B0" RealAddress="275219DB380"/>
          <ShowAsHex>1</ShowAsHex>
          <Color>0000FF</Color>
          <VariableType>4 Bytes</VariableType>
          <Address>pMouse</Address>
          <Offsets>
            <Offset>0</Offset>
          </Offsets>
          <CheatEntries>
            <CheatEntry>
              <ID>107</ID>
              <Description>"[Mouse Position]"</Description>
              <Options moAllowManualCollapseAndExpand="1"/>
              <LastState Value="" RealAddress="275219DBC88"/>
              <ShowAsHex>1</ShowAsHex>
              <Color>808080</Color>
              <VariableType>Array of byte</VariableType>
              <ByteLength>0</ByteLength>
              <Address>+908</Address>
              <CheatEntries>
                <CheatEntry>
                  <ID>108</ID>
                  <Description>"m.Z"</Description>
                  <LastState Value="1011100" RealAddress="275219DBC94"/>
                  <VariableType>Float</VariableType>
                  <Address>+0C</Address>
                </CheatEntry>
                <CheatEntry>
                  <ID>109</ID>
                  <Description>"m.Y"</Description>
                  <LastState Value="-6900" RealAddress="275219DBC9C"/>
                  <VariableType>Float</VariableType>
                  <Address>+14</Address>
                </CheatEntry>
                <CheatEntry>
                  <ID>110</ID>
                  <Description>"m.X"</Description>
                  <LastState Value="119400" RealAddress="275219DBC98"/>
                  <VariableType>Float</VariableType>
                  <Address>+10</Address>
                </CheatEntry>
                <CheatEntry>
                  <ID>111</ID>
                  <Description>"m.AngleZ"</Description>
                  <LastState Value="1" RealAddress="275219DBC8C"/>
                  <VariableType>Float</VariableType>
                  <Address>+04</Address>
                </CheatEntry>
                <CheatEntry>
                  <ID>112</ID>
                  <Description>"m.AngleY"</Description>
                  <LastState Value="0" RealAddress="275219DBC90"/>
                  <VariableType>Float</VariableType>
                  <Address>+08</Address>
                </CheatEntry>
                <CheatEntry>
                  <ID>113</ID>
                  <Description>"m.AngleX"</Description>
                  <LastState Value="0" RealAddress="275219DBC88"/>
                  <VariableType>Float</VariableType>
                  <Address>+0</Address>
                </CheatEntry>
              </CheatEntries>
            </CheatEntry>
            <CheatEntry>
              <ID>129</ID>
              <Description>"[Brush Position]"</Description>
              <Options moAllowManualCollapseAndExpand="1"/>
              <LastState Value="" RealAddress="275219DBA40"/>
              <ShowAsHex>1</ShowAsHex>
              <Color>808080</Color>
              <VariableType>Array of byte</VariableType>
              <ByteLength>0</ByteLength>
              <Address>+6C0</Address>
              <CheatEntries>
                <CheatEntry>
                  <ID>115</ID>
                  <Description>"b.Z"</Description>
                  <LastState Value="1011100" RealAddress="275219DBA40"/>
                  <VariableType>Float</VariableType>
                  <Address>+0</Address>
                </CheatEntry>
                <CheatEntry>
                  <ID>116</ID>
                  <Description>"b.Y"</Description>
                  <LastState Value="-6900" RealAddress="275219DBA48"/>
                  <VariableType>Float</VariableType>
                  <Address>+08</Address>
                </CheatEntry>
                <CheatEntry>
                  <ID>117</ID>
                  <Description>"b.X"</Description>
                  <LastState Value="119400" RealAddress="275219DBA44"/>
                  <VariableType>Float</VariableType>
                  <Address>+04</Address>
                </CheatEntry>
                <CheatEntry>
                  <ID>118</ID>
                  <Description>"b.AngleZ"</Description>
                  <LastState Value="1" RealAddress="275219DBA50"/>
                  <VariableType>Float</VariableType>
                  <Address>+10</Address>
                </CheatEntry>
                <CheatEntry>
                  <ID>119</ID>
                  <Description>"b.AngleY"</Description>
                  <LastState Value="0" RealAddress="275219DBA54"/>
                  <VariableType>Float</VariableType>
                  <Address>+14</Address>
                </CheatEntry>
                <CheatEntry>
                  <ID>120</ID>
                  <Description>"b.AngleX"</Description>
                  <LastState Value="0" RealAddress="275219DBA4C"/>
                  <VariableType>Float</VariableType>
                  <Address>+0C</Address>
                </CheatEntry>
              </CheatEntries>
            </CheatEntry>
            <CheatEntry>
              <ID>114</ID>
              <Description>"[Brush Stats]"</Description>
              <Options moAllowManualCollapseAndExpand="1"/>
              <LastState Value="" RealAddress="275219DBCAC"/>
              <ShowAsHex>1</ShowAsHex>
              <Color>808080</Color>
              <VariableType>Array of byte</VariableType>
              <ByteLength>0</ByteLength>
              <Address>+92C</Address>
              <CheatEntries>
                <CheatEntry>
                  <ID>130</ID>
                  <Description>"b.speed"</Description>
                  <LastState Value="1" RealAddress="275219DBCAC"/>
                  <VariableType>Float</VariableType>
                  <Address>+0</Address>
                </CheatEntry>
                <CheatEntry>
                  <ID>131</ID>
                  <Description>"b.radius"</Description>
                  <LastState Value="1" RealAddress="275219DBCB0"/>
                  <VariableType>Float</VariableType>
                  <Address>+4</Address>
                </CheatEntry>
              </CheatEntries>
            </CheatEntry>
            <CheatEntry>
              <ID>122</ID>
              <Description>"Debug Form"</Description>
              <LastState/>
              <Color>FF0000</Color>
              <VariableType>Auto Assembler Script</VariableType>
              <AssemblerScript>{ Game   : Astro-Win64-Shipping.exe
  Version: 1.11.62.0
  Date   : 2020-05-03
  Author : mece
}

[ENABLE]
{$lua}
  if syntaxcheck then return end
    FormGridMod.Show()
{$asm}
[DISABLE]
{$lua}
  FormGridMod.hide()
</AssemblerScript>
            </CheatEntry>
            <CheatEntry>
              <ID>121</ID>
              <Description>"Freeze Brush"</Description>
              <LastState/>
              <Color>FF0000</Color>
              <VariableType>Auto Assembler Script</VariableType>
              <AssemblerScript>{ Game   : Astro-Win64-Shipping.exe
  Version: 1.11.62.0
  Date   : 2020-05-03
  Author : mece
}

[ENABLE]


// this code changes brush position visually during mouse moving
"Astro-Win64-Shipping.exe"+8F7228:
  db 90 90 90 90 90 90 90 90

"Astro-Win64-Shipping.exe"+8F7234:
  db 90 90 90 90 90 90

"Astro-Win64-Shipping.exe"+8F7242:
  db 90 90 90 90 90 90 90 90

"Astro-Win64-Shipping.exe"+8F724A:
  db 90 90 90 90 90 90 90

"Astro-Win64-Shipping.exe"+8F72ED:
  db 90 90 90 90 90 90 90 90

// this code changes brush position invisibly during terrain manipulation

"Astro-Win64-Shipping.exe"+8F5378:
  db 90 90 90 90

"Astro-Win64-Shipping.exe"+8F649F:
  db 90 90 90 90 90 90

"Astro-Win64-Shipping.exe"+8F72FB:
  db 90 90 90 90 90 90

"Astro-Win64-Shipping.exe"+8F536F:
  db 90 90 90 90 90 90

"Astro-Win64-Shipping.exe"+8F6497:
  db 90 90 90 90 90 90 90 90

"Astro-Win64-Shipping.exe"+8F72D8:
  db 90 90 90 90 90 90

"Astro-Win64-Shipping.exe"+8F6489:
  db 90 90 90 90 90 90 90 90

"Astro-Win64-Shipping.exe"+8F6491:
  db 90 90 90 90 90 90

[DISABLE]

// this code changes brush position visually during mouse moving

"Astro-Win64-Shipping.exe"+8F7228:
  db F2 0F 11 86 14 09 00 00

"Astro-Win64-Shipping.exe"+8F7234:
  db 89 86 1C 09 00 00

"Astro-Win64-Shipping.exe"+8F7242:
  db F2 0F 11 86 08 09 00 00

"Astro-Win64-Shipping.exe"+8F724A:
  db 89 86 10 09 00 00 44

"Astro-Win64-Shipping.exe"+8F72ED:
  db F2 0F 11 86 CC 06 00 00

// this code changes brush position invisibly during terrain manipulation

"Astro-Win64-Shipping.exe"+8F5378:
  db 41 89 45 08

"Astro-Win64-Shipping.exe"+8F649F:
  db 89 8E 1C 09 00 00

"Astro-Win64-Shipping.exe"+8F72FB:
  db 89 86 D4 06 00 00

"Astro-Win64-Shipping.exe"+8F536F:
  db F2 41 0F 11 45 00

"Astro-Win64-Shipping.exe"+8F6497:
  db F2 0F 11 96 14 09 00 00

"Astro-Win64-Shipping.exe"+8F72D8:
  db F2 41 0F 11 45 00

"Astro-Win64-Shipping.exe"+8F6489:
  db F2 0F 11 8E 08 09 00 00

"Astro-Win64-Shipping.exe"+8F6491:
  db 89 86 10 09 00 00

</AssemblerScript>
            </CheatEntry>
            <CheatEntry>
              <ID>123</ID>
              <Description>"Update"</Description>
              <LastState Value="1" RealAddress="7FF79F850028"/>
              <Color>FF8000</Color>
              <VariableType>Byte</VariableType>
              <Address>bUpdate</Address>
            </CheatEntry>
          </CheatEntries>
        </CheatEntry>
      </CheatEntries>
    </CheatEntry>
  </CheatEntries>
  <UserdefinedSymbols/>
  <Comments>Info about this table:
</Comments>
  <LuaScript>GetLuaEngine().MenuItem5.doClick() -- crear lua output
FormGridMod.CETimerGridMod.Interval = 200
FormGridMod.CETrackBarRadius.LineSize = 1

local newAngleX
local newAngleY
local newAngleZ
local X
local Y
local Z

local cos45 = math.cos(math.pi/4)
local cos135 = math.cos(3*math.pi/4)
local cos225 = math.cos(5*math.pi/4)
local cos315 = math.cos(7*math.pi/4)

function setRecordValue(description, newValue)
  getAddressList().getMemoryRecordByDescription(description).Value = newValue
end

function getRecordValue(description)
  return tonumber(getAddressList().getMemoryRecordByDescription(description).Value)
end

function FormGridMod_CETimerGridModTimer(sender)
  local pMouse = readPointer("pMouse")
  local bUpdate = readInteger("bUpdate")
  if bUpdate == nil or bUpdate == 0 or pMouse == nil or pMouse == 0 then
    FormGridMod.Caption = "No data... Equip terrain tool."
    FormGridMod.CEGroupBoxBrush.Enabled = false
  else
    FormGridMod.Caption = "Ready..."
    FormGridMod.CEGroupBoxBrush.Enabled = true
    -- freeze brush position with hotkey
    local hotkey = VK_SHIFT
    if FormGridMod.CECheckboxHotkey.State == cbChecked then
      if isKeyPressed(hotkey) and FormGridMod.CECheckboxGridModeOn.State == cbUnchecked and bUpdate == 1 then
        FormGridMod.CECheckboxGridModeOn.State = cbChecked
        FormGridMod.Show()
      else
        if not isKeyPressed(hotkey) and FormGridMod.CECheckboxGridModeOn.State == cbChecked then
          FormGridMod.CECheckboxGridModeOn.State = cbUnchecked
          FormGridMod.Hide()
        end
      end
    end
    if FormGridMod.CECheckboxGridModeOn.State == cbChecked then
      -- write memory with values aligned to grid
      if FormGridMod.Visible then
        FormGridMod.CEEditBrushX.Text = newX
        FormGridMod.CEEditBrushY.Text = newY
        FormGridMod.CEEditBrushZ.Text = newZ
        FormGridMod.CEEditBrushAngle1.Text = getDegrees(newAngleX)
        FormGridMod.CEEditBrushAngle2.Text = getDegrees(newAngleY)
        FormGridMod.CEEditBrushAngle3.Text = getDegrees(newAngleZ)
      end
      setRecordValue("m.X", newX)
      setRecordValue("m.Y", newY)
      setRecordValue("m.Z", newZ)
      setRecordValue("m.AngleX", newAngleX)
      setRecordValue("m.AngleY", newAngleY)
      setRecordValue("m.AngleZ", newAngleZ)
      setRecordValue("b.X", newX)
      setRecordValue("b.Y", newY)
      setRecordValue("b.Z", newZ)
      setRecordValue("b.AngleX", newAngleX)
      setRecordValue("b.AngleY", newAngleY)
      setRecordValue("b.AngleZ", newAngleZ)
    else
      -- read current brush position and calculate position aligned to grid
      newX = getNearestGrid(getRecordValue("m.X"))
      newY = getNearestGrid(getRecordValue("m.Y"))
      newZ = getNearestGrid(getRecordValue("m.Z"))-50 -- specific of z axis
      newAngleX = getCardinalDirection(getRecordValue("m.AngleX"))
      newAngleY = getCardinalDirection(getRecordValue("m.AngleY"))
      newAngleZ = getCardinalDirection(getRecordValue("m.AngleZ"))
      if FormGridMod.Visible then
        FormGridMod.CEEditBrushAngleDir1.Text = getDegrees(newAngleX)
        FormGridMod.CEEditBrushAngleDir2.Text = getDegrees(newAngleY)
        FormGridMod.CEEditBrushAngleDir3.Text = getDegrees(newAngleZ)
        FormGridMod.CEEditBrushX.Text = getRecordValue("m.X")
        FormGridMod.CEEditBrushY.Text = getRecordValue("m.Y")
        FormGridMod.CEEditBrushZ.Text = getRecordValue("m.Z")
        FormGridMod.CEEditBrushNormalX.Text = newX
        FormGridMod.CEEditBrushNormalY.Text = newY
        FormGridMod.CEEditBrushNormalZ.Text = newZ
        FormGridMod.CEEditBrushAngle1.Text = getDegrees(getRecordValue("m.AngleX"))
        FormGridMod.CEEditBrushAngle2.Text = getDegrees(getRecordValue("m.AngleY"))
        FormGridMod.CEEditBrushAngle3.Text = getDegrees(getRecordValue("m.AngleZ"))
        syncBars()
      end
    end
    writeInteger("bUpdate", 0)
  end
end

function getDegrees(arg)
  if arg == nil then
    return 0
  end
  return math.deg(math.acos(arg))
end

function getNearestGrid(arg)
  if arg == nil then
    return 0
  end
  return 150*(math.floor(arg / 150 + 0.5))
end

function getCardinalDirection(arg)
  if arg == nil then
    return 0
  end
  local directions = {1,cos45, 0, cos135, -1, cos225, 0, cos315}
  return directions[math.floor(math.deg(math.acos(arg)) / 45 +0.5) % 8 + 1]
end

function FormGridMod_FormClose(sender)
  getAddressList().getMemoryRecordByDescription('Debug Form').Active = false
  FormGridMod.Position = poScreenCenter
  return caHide --Possible options: caHide, caFree, caMinimize, caNone
end
function FormGridMod_CECheckboxTimerChange(sender)
  FormGridMod.CETimerGridMod.Enabled = FormGridMod.CECheckboxTimer.Checked
end

function FormGridMod_CECheckboxGridModeOnChange(sender)
  if (FormGridMod.CECheckboxGridModeOn.State == cbChecked) then
    getAddressList().getMemoryRecordByDescription('Freeze Brush').Active = true
  else
    getAddressList().getMemoryRecordByDescription('Freeze Brush').Active = false
  end
end

function FormGridMod_CETrackBarSpeedChange(sender)
  syncBars()
end

function FormGridMod_CETrackBarRadiusChange(sender)
  syncBars()
end

function syncBars()
  updateBar(FormGridMod.CETrackBarSpeed, FormGridMod.CEEditSpeed, "b.speed", 10, 1)
  updateBar(FormGridMod.CETrackBarRadius, FormGridMod.CEEditRadius, "b.radius", 7, 350)
end

-- barScale = bar units per mem unit
-- textScale = text units per mem unit
function updateBar(bar, counter, record, barScale, textScale)
  newValue = getRecordValue(record)
  if newValue == nil then return end
  if bar.SelEnd ~= bar.Position then
    newValue = bar.Position/barScale
    setRecordValue(record, newValue)
  else
    bar.Position = math.floor(newValue*barScale+0.5)
  end
  bar.SelEnd = bar.Position
  counter.Text = string.format("%.1f", newValue*textScale)
end

function FormGridModBarMouseWheelDown(sender, x, y)
  sender.Position = sender.Position - sender.LineSize
end

function FormGridModBarMouseWheelUp(sender, x, y)
  sender.Position = sender.Position + sender.LineSize
end

</LuaScript>
</CheatTable>
